{"is_source_file": true, "format": "C#", "description": "This is the main startup/configuration file for a .NET web API project using minimal hosting model. It sets up database providers (SQLite or Postgres), configures CORS, integrates OpenAPI/Swagger, applies database migrations, and defines a health check endpoint.", "external_files": ["Microsoft.EntityFrameworkCore", "WhatsappBackend.Data"], "external_methods": ["WebApplication.CreateBuilder", "builder.Services.AddEndpointsApiExplorer", "builder.Services.AddOpenApiDocument", "builder.Services.AddDbContext<AppDbContext>", "options.UseNpgsql", "options.UseSqlite", "builder.Services.AddCors", "policy.SetIsOriginAllowed", "app.UseCors", "app.UseOpenApi", "app.UseSwaggerUi", "app.Environment.IsDevelopment", "db.Database.ProviderName", "db.Database.MigrateAsync", "AppDbContext.EnsureDevSeedAsync", "app.MapGet"], "published": ["app"], "classes": [], "methods": [{"name": "EnsureDevSeedAsync", "description": "Asynchronously seeds the database with development data if in development environment."}], "calls": ["WebApplication.CreateBuilder", "builder.Services.AddEndpointsApiExplorer", "builder.Services.AddOpenApiDocument", "builder.Services.AddDbContext", "options.UseNpgsql", "options.UseSqlite", "builder.Services.AddCors", "policy.SetIsOriginAllowed", "app.UseCors", "app.UseOpenApi", "app.UseSwaggerUi", "app.Services.CreateScope", "scope.ServiceProvider.GetRequiredService", "db.Database.ProviderName", "db.Database.MigrateAsync", "AppDbContext.EnsureDevSeedAsync", "app.MapGet"], "search-terms": ["Program.cs", "minimal hosting", "ASP.NET Core", "Entity Framework Core", "Database provider", "OpenAPI", "Swagger", "CORS", "health check", "seed database"], "state": 2, "file_id": 4, "knowledge_revision": 24, "git_revision": "498469c0b7633ceb27fa5a4c62d461c2e0e8d1e1", "revision_history": [{"11": "498469c0b7633ceb27fa5a4c62d461c2e0e8d1e1"}, {"24": "498469c0b7633ceb27fa5a4c62d461c2e0e8d1e1"}], "hash": "54c9f7b4815d5fccda7827cead9ab1a3", "format-version": 4, "code-base-name": "whatsapp_backend", "filename": "whatsapp_backend/Program.cs"}