{"is_source_file": true, "format": "C#", "description": "This file defines a design-time factory for Entity Framework Core that creates instances of AppDbContext using configuration settings from environment variables. It is used by EF Core migration tools to manage database schema updates, supporting both SQLite and Postgres as database providers.", "external_files": ["Microsoft.EntityFrameworkCore", "Microsoft.EntityFrameworkCore.Design", "Microsoft.Extensions.Configuration", "WhatsappBackend.Data"], "external_methods": ["Environment.GetEnvironmentVariable", "Path.Combine", "Directory.CreateDirectory"], "published": ["AppDbContextFactory"], "classes": [{"name": "AppDbContextFactory", "description": "A factory class implementing IDesignTimeDbContextFactory for creating AppDbContext instances during design-time operations like migrations."}], "methods": [{"name": "CreateDbContext", "description": "Creates and configures an AppDbContext using environment variables to determine the database provider and connection string."}], "calls": ["Environment.GetEnvironmentVariable", "Path.Combine", "Directory.CreateDirectory", "builder.UseNpgsql", "builder.UseSqlite", "new AppDbContext"], "search-terms": ["EF Core migration factory", "AppDbContextFactory", "design-time database context", "migrations configuration", "Postgres", "SQLite", "AppDbContext"], "state": 2, "file_id": 13, "knowledge_revision": 28, "git_revision": "", "hash": "92bf4032d74328725af7f29af2fa89ba", "format-version": 4, "code-base-name": "whatsapp_backend", "filename": "whatsapp_backend/Migrations/AppDbContextFactory.cs", "revision_history": [{"28": ""}]}